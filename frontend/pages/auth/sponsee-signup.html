<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sponsee Sign Up - SponzoBD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Inter", sans-serif;
        overflow-x: hidden;
      }
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #1a1a2e;
      }
      ::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #7c3aed, #ec4899);
        border-radius: 10px;
      }
      .page-bg {
        background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e, #1a1a2e);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
        min-height: 100vh;
      }
      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
      .particles {
        position: fixed;
        width: 100%;
        height: 100%;
        overflow: hidden;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 0;
      }
      .particle {
        position: absolute;
        width: 6px;
        height: 6px;
        background: rgba(236, 72, 153, 0.4);
        border-radius: 50%;
        animation: floatParticle 20s infinite;
      }
      .particle:nth-child(1) {
        left: 10%;
        animation-delay: 0s;
        animation-duration: 25s;
      }
      .particle:nth-child(2) {
        left: 30%;
        animation-delay: 2s;
        animation-duration: 20s;
      }
      .particle:nth-child(3) {
        left: 50%;
        animation-delay: 4s;
        animation-duration: 28s;
      }
      .particle:nth-child(4) {
        left: 70%;
        animation-delay: 1s;
        animation-duration: 22s;
      }
      .particle:nth-child(5) {
        left: 90%;
        animation-delay: 3s;
        animation-duration: 18s;
      }
      @keyframes floatParticle {
        0% {
          transform: translateY(100vh) scale(0);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100vh) scale(1);
          opacity: 0;
        }
      }
      .glass-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
      }
      .gradient-text {
        background: linear-gradient(
          135deg,
          #a855f7 0%,
          #ec4899 50%,
          #f97316 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .orb {
        position: fixed;
        border-radius: 50%;
        filter: blur(80px);
        opacity: 0.3;
        animation: orbFloat 8s ease-in-out infinite;
        pointer-events: none;
        z-index: 0;
      }
      .orb-1 {
        width: 350px;
        height: 350px;
        background: linear-gradient(135deg, #ec4899, #f97316);
        top: -100px;
        right: -100px;
      }
      .orb-2 {
        width: 280px;
        height: 280px;
        background: linear-gradient(135deg, #7c3aed, #a855f7);
        bottom: -80px;
        left: -80px;
        animation-delay: 2s;
      }
      @keyframes orbFloat {
        0%,
        100% {
          transform: translate(0, 0) scale(1);
        }
        50% {
          transform: translate(30px, 30px) scale(1.1);
        }
      }
      .input-field {
        width: 100%;
        padding: 12px 16px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        font-size: 0.95rem;
        color: white;
        transition: all 0.3s ease;
      }
      .input-field:focus {
        outline: none;
        border-color: rgba(236, 72, 153, 0.5);
        box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        background: rgba(255, 255, 255, 0.08);
      }
      .input-field::placeholder {
        color: rgba(255, 255, 255, 0.4);
      }
      .glow-button {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #ec4899 0%, #f97316 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      .glow-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #f97316 0%, #ec4899 100%);
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .glow-button:hover::before {
        opacity: 1;
      }
      .glow-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 30px rgba(236, 72, 153, 0.4);
      }
      .glow-button span {
        position: relative;
        z-index: 1;
      }
    </style>
  </head>
  <body class="page-bg">
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <div id="navbar"></div>

    <main
      class="relative z-10 pt-28 pb-16 flex items-center justify-center px-4"
    >
      <div class="glass-card w-full max-w-3xl overflow-hidden">
        <div
          class="px-8 py-6 bg-gradient-to-r from-pink-500/80 to-orange-500/80 border-b border-white/10"
        >
          <p class="text-pink-200 text-sm">Share your story</p>
          <h1 class="text-2xl font-bold text-white font-space">
            Sponsee Sign Up
          </h1>
        </div>
        <div class="p-8">
          <form id="sponseeSignupForm" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Event Name *</label
                >
                <input
                  type="text"
                  id="eventName"
                  required
                  class="input-field"
                  placeholder="Tech for Good Summit"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Contact Person *</label
                >
                <input
                  type="text"
                  id="contactPerson"
                  required
                  class="input-field"
                  placeholder="Jane Doe"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Phone Number *</label
                >
                <input
                  type="tel"
                  id="phone"
                  required
                  class="input-field"
                  placeholder="+1 555 123 4567"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Organization *</label
                >
                <input
                  type="text"
                  id="organization"
                  required
                  class="input-field"
                  placeholder="Your organization"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Email *</label
                >
                <input
                  type="email"
                  id="email"
                  required
                  class="input-field"
                  placeholder="you@example.com"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Password *</label
                >
                <input
                  type="password"
                  id="password"
                  required
                  minlength="6"
                  class="input-field"
                  placeholder="••••••••"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Location *</label
                >
                <input
                  type="text"
                  id="location"
                  required
                  class="input-field"
                  placeholder="City, Country"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Expected Attendees *</label
                >
                <input
                  type="number"
                  id="expectedAttendees"
                  min="1"
                  step="1"
                  required
                  class="input-field"
                  placeholder="300"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Event Type (comma-separated) *</label
                >
                <input
                  type="text"
                  id="eventType"
                  required
                  class="input-field"
                  placeholder="Conference, Workshop"
                />
                <p class="mt-2 text-xs text-gray-500">
                  Add one or more event types separated by commas.
                </p>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Categories (comma-separated) *</label
                >
                <input
                  type="text"
                  id="categories"
                  required
                  class="input-field"
                  placeholder="Tech, Education, Health"
                />
                <p class="mt-2 text-xs text-gray-500">
                  Add one or more categories separated by commas.
                </p>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Budget (USD) *</label
                >
                <input
                  type="number"
                  id="budget"
                  min="0"
                  step="100"
                  required
                  class="input-field"
                  placeholder="10000"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Website (optional)</label
                >
                <input
                  type="url"
                  id="website"
                  class="input-field"
                  placeholder="https://www.eventsite.com"
                />
              </div>
              <div class="md:col-span-2">
                <label class="block text-sm font-medium text-gray-300 mb-2"
                  >Event Description (optional)</label
                >
                <textarea
                  id="description"
                  rows="4"
                  class="input-field"
                  placeholder="Tell sponsors about your event and goals"
                ></textarea>
              </div>
            </div>

            <button type="submit" class="glow-button">
              <span>Create Sponsee Account</span>
            </button>
          </form>

          <p class="mt-6 text-center text-sm text-gray-400">
            Already have an account?
            <a
              href="login.html"
              class="text-pink-400 hover:text-orange-400 transition-colors font-semibold"
              >Log in</a
            >
          </p>
        </div>
      </div>
    </main>

    <script>
      const API_BASE = "https://test-6aiv.onrender.com/api";
      document
        .getElementById("sponseeSignupForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const payload = {
            eventName: document.getElementById("eventName").value.trim(),
            contactPerson: document
              .getElementById("contactPerson")
              .value.trim(),
            phone: document.getElementById("phone").value.trim(),
            organization: document.getElementById("organization").value.trim(),
            email: document.getElementById("email").value.trim(),
            password: document.getElementById("password").value,
            location: document.getElementById("location").value.trim(),
            expectedAttendees: parseInt(
              document.getElementById("expectedAttendees").value,
              10
            ),
            eventType: document
              .getElementById("eventType")
              .value.split(",")
              .map((item) => item.trim())
              .filter(Boolean),
            categories: document
              .getElementById("categories")
              .value.split(",")
              .map((item) => item.trim())
              .filter(Boolean),
            budget: parseFloat(document.getElementById("budget").value),
            website: document.getElementById("website").value.trim(),
            description: document.getElementById("description").value.trim(),
          };

          if (
            !payload.eventName ||
            !payload.contactPerson ||
            !payload.phone ||
            !payload.organization ||
            !payload.location ||
            !payload.email ||
            !payload.password ||
            Number.isNaN(payload.expectedAttendees) ||
            payload.eventType.length === 0 ||
            payload.categories.length === 0 ||
            Number.isNaN(payload.budget)
          ) {
            alert("Please fill in all required fields (marked with *).");
            return;
          }

          try {
            const res = await fetch(`${API_BASE}/auth/sponsee/register`, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });
            const data = await res.json();
            if (!res.ok) throw new Error(data.message || "Registration failed");

            alert("Sponsee registered successfully! Redirecting to login...");
            window.location.href = "login.html";
          } catch (err) {
            alert(err.message || "Network error");
          }
        });
    </script>

    <script src="../../components/navbar.js"></script>
  </body>
</html>
